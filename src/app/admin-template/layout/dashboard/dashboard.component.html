<app-alert></app-alert>
<div [@routerTransition]>
  <h3 class="text-muted mb-4"><small>Ãœberblick</small></h3>

  <div class="row">
    <div class="col-md-9">
      <div class="row">
        <div class="col-lg-4">
          <app-stat
            [bgClass]="'danger'"
            [icon]="faTasks"
            [count]="counselingCount()"
            [label]="'Beratungen'"
            [link]="'/clients/counselings'">
          </app-stat>
        </div>
        <div class="col-lg-4">
          <app-stat
            [bgClass]="'success'"
            [icon]="faUser"
            [count]="clientCount()"
            [label]="'Klient:innen'"
            [link]="'/clients/client-list'">
          </app-stat>
        </div>
        <div class="col-lg-4">
          <app-stat
            [bgClass]="'warning'"
            [icon]="faSurprise"
            [count]="employerCount()"
            [label]="'Arbeitgeber:innen'"
            [link]="'/clients/employers'">
          </app-stat>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col mt-3">
      <div class="row">
        <div class="col">
          @if (isAdmin()) {
            <div>
              <a [routerLink]="['/clients/create']" class="btn btn-lg btn-outline-success">
                Klient:in anlegen
              </a>
            </div>
          }
        </div>
        <div class="col">
          <div>
            <a [routerLink]="['/clients/create/employer']" class="btn btn-lg btn-outline-success">
              Arbeitgeber:in anlegen
            </a>
          </div>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-lg-10">
          <div class="card">
            <ngb-carousel>
              @for (image of images; track image.short) {
                <ng-template ngbSlide>
                  <div class="card-header">
                    {{ image.title }}
                  </div>
                  <div class="card-body">
                    <div class="wrapper">
                      <img [src]="image.src" width="100%" [alt]="image.alt">
                    </div>
                  </div>
                </ng-template>
              }
            </ngb-carousel>
          </div>
        </div>
      </div>
    </div>

    <div class="col mt-3">
      <div class="card card-default">
        <div class="card-header">
          <fa-icon class="text-secondary" [icon]="faTasks"></fa-icon>&nbsp; Aufgaben
        </div>
        <div class="card-body">
          <app-task-list></app-task-list>
        </div>
      </div>

      @if (currentUser()) {
        <div class="card card-default">
          <div class="card-header">
            <i class="fa fa-clock-o fa-fw"></i> Kommende Beratungstermine
          </div>
          <app-timeline [user_id]="currentUser()!.id"></app-timeline>
        </div>
      }
    </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
      <!-- Commented out sections remain as is -->
    </div>
  </div>
</div>
